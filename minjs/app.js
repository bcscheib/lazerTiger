"use strict";!function(d,c,n){function t(n){d.ajax({type:n.attr("method"),url:n.attr("action"),data:n.serialize(),dataType:"jsonp",cache:!1,error:function(n){d(".cd-response-error").addClass("is-visible")},success:function(n){"success"===n.result?(console.log(n.msg),d(".cd-response-success").addClass("slide-in")):(console.log(n.msg),d(".cd-response-notification").addClass("is-visible"))}})}d(function(){var s,i;d("[data-scroll]").on("click",function(n){if(""!==this.hash){n.preventDefault();var i=this.getAttribute("href");return d("html, body").animate({scrollTop:d(i).offset().top},1e3),!1}}),s=d('div[data-type="message"]'),i=d("#mc-embedded-subscribe-form"),d(".cd-form .cd-email").keyup(function(n){13!=n.which&&(s.removeClass("slide-in is-visible"),d(".cd-form").removeClass("is-submitted").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"));var i=d(this).val(),t=i.indexOf("@"),o=i.lastIndexOf(".");t<1||o<t+2?d(".cd-form").removeClass("is-active").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"):d(".cd-form").addClass("is-active")}),d(".cd-form .cd-email").on("focus",function(){s.removeClass("slide-in is-visible"),d(".cd-form").removeClass("is-submitted").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),d(".cd-submit").on("click",function(n){d(".cd-form").hasClass("is-active")&&(n.preventDefault(),d(".cd-form").addClass("is-submitted").find(".cd-loading").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t(i)}),d("html").hasClass("no-csstransitions")&&t(i))}),Modernizr.input.placeholder||(d("[placeholder]").focus(function(){var n=d(this);n.val()==n.attr("placeholder")&&n.val("")}).blur(function(){var n=d(this);""!=n.val()&&n.val()!=n.attr("placeholder")||n.val(n.attr("placeholder"))}).blur(),d("[placeholder]").parents("form").submit(function(){d(this).find("[placeholder]").each(function(){var n=d(this);n.val()==n.attr("placeholder")&&n.val("")})})),d("video").each(function(n){var i=d(this).data("source");if(!i)return!1;1024<d(c).width()&&(d(this).append("<source type='video/mp4' src='"+i+".mp4.mp4'>"),d(this).append("<source type='video/webm' src='"+i+".webmhd.webm'>"),d(this).append("<source type='video/ogg' src='"+i+".oggtheora.ogv'>"))}),function(){var s=!1,t="",o=!1;function a(n,i){s=!0,d("body").addClass("page-is-changing"),d(".loading-bar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e(n,i),t=n,d(".loading-bar").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),r()||(e(n,i),t=n)}function e(t,n){var i=(t=""==t?"index.html":t).replace(".html",""),o=d('<div class="main-content '+i+'"></div>');o.load(t+" .main-content > *",function(n){d(".main").html(o),d("html, body").scrollTop(0,0);var i=r()?1200:0;setTimeout(function(){d("body").removeClass("page-is-changing"),d(".loading-bar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){s=!1,d(".loading-bar").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),t!=c.location&&c.history.pushState({path:t},"",t),r()||(s=!1)},i)})}function r(){return d("html").hasClass("csstransitions")}d(".main").on("click",'[data-type="page-transition"]',function(n){n.preventDefault();var i=d(this).attr("href");console.log(i),s||a(i,!0),o=!0}),d(c).on("popstate",function(){if(o){var n=location.pathname.split("/"),i=n[n.length-1];s||t==i||a(i,!1)}o=!0})}(),d("[href='#']").click(function(){return!1}),d(".btn").on("mouseenter",function(n){var i=d(this).offset(),t=n.pageX-i.left,o=n.pageY-i.top;d(this).find("span").css({top:o,left:t})}).on("mouseout",function(n){var i=d(this).offset(),t=n.pageX-i.left,o=n.pageY-i.top;d(this).find("span").css({top:o,left:t})})})}(window.jQuery,window,document);